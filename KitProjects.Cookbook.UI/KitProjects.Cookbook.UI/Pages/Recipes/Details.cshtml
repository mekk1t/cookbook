@page "{id:long}"
@model KitProjects.Cookbook.UI.Pages.Recipes.DetailsModel
<div class="w3-container">
    <div id="thumbnail-and-ingredients">
        <div class="w3-row">
            <div class="w3-twothird">
                @if (string.IsNullOrEmpty(Model.Recipe.ThumbnailBase64))
                {
                    <small>Здесь могла быть картинка</small>
                }
                else
                {
                    <img src="data:image/jpg;base64, @Model.Recipe.ThumbnailBase64" alt="Картинка рецепта" />
                }
            </div>
            <div class="w3-third">
                <div class="w3-border">
                    <h3>Ингредиенты</h3>
                    <ul>
                        @foreach (var ingredient in Model.Recipe.IngredientDetails)
                        {
                            <li>@ingredient.Ingredient.Name</li>
                        }
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div id="steps-mode-buttons">
        <button class="w3-button w3-border w3-hover-light-green">Пошаговый режим</button>
        <button class="w3-button w3-border w3-hover-light-green">Все шаги сразу</button>
    </div>
    <div id="main-details">
        <div class="w3-container">
            <div class="w3-row">
                <div class="w3-third">
                    Автор: #ИМЯ?
                </div>
                <div class="w3-third">
                    Дата создания
                </div>
                <div class="w3-third">
                    Время готовки: минуты
                </div>
            </div>
            <div class="w3-row">
                <div class="w3-rest">
                    Теги: перечисление
                </div>
            </div>
            <div class="w3-row">
                <p>Большой абзац с описанием</p>
            </div>
        </div>
    </div>
    <div id="steps-block">
        @foreach (var step in Model.Recipe.Steps)
        {
            StepComponent(step);
        }
    </div>
</div>

@{
    void StepComponent(KitProjects.Cookbook.Domain.Models.Step step)
    {
        @if (string.IsNullOrEmpty(step.ImageBase64))
        {
            <h3>Шаг @step.Order</h3>
            <p>@step.Description</p>
            <small>Куда-то еще ингредиенты впендюрить</small>
        }
        else
        {
            <div class="w3-row">
                <div class="w3-half">
                    <img height="200" alt="картинка шага" />
                </div>
                <div class="w3-half">
                    <h3>Шаг @step.Order</h3>
                    <p>@step.Description</p>
                    <small>Куда-то еще ингредиенты впендюрить</small>
                </div>
            </div>
        }
        <div class="w3-container">
        </div>
    }
}
