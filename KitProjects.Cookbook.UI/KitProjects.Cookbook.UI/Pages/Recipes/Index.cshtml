@page
@model KitProjects.Cookbook.UI.Pages.Recipes.IndexModel

<div class="w3-container">
    <div id="recipes-list">
        @foreach (var recipe in Model.Recipes)
        {
            await RenderRecipeAsync(recipe);
        }
    </div>
</div>

@{
    async Task RenderRecipeAsync(KitProjects.Cookbook.Domain.Models.Recipe recipe)
    {
        <div class="w3-row x-center w3-border recipes-list-row">
            <div class="w3-half h-150 w3-center">
                <div class="recipes-list-tags w3-border">@string.Join(' ', recipe.Tags?.Select(tag => $"#{tag}")?.ToList() ?? new List<string>(0))</div>
                <img class="x-center recipe-list-thumbnail" src="data:image/jpg;base64, @recipe.ThumbnailBase64" alt="Обложка" />
            </div>
            <div class="w3-half w3-center">
                <h2><a asp-page="/recipes/details" asp-route-id="@recipe.Id">@(recipe.Title ?? "Без названия")</a></h2>
                <small>@recipe.Synopsis</small>
            </div>
        </div>
    }
}